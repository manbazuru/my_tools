!function(t,e,n){"use strict";function i(t,e){var n=null;return function(){var i=this,r=arguments;null===n&&(n=setTimeout(function(){t.apply(i,r),n=null},e))}}var r=function(){var t={};return function(e){if(t[e]!==n)return t[e];var i=document.createElement("div"),r=i.style,a=e.charAt(0).toUpperCase()+e.slice(1),o=["webkit","moz","ms","o"],s=(e+" "+o.join(a+" ")+a).split(" ");for(var l in s)if(s[l]in r)return t[e]=s[l];return t[e]=!1}}(),a="http://www.w3.org/2000/svg",o=function(){var t;return function(){if(t!==n)return t;var e=document.createElement("div");return e.innerHTML="<svg/>",t=e.firstChild&&e.firstChild.namespaceURI===a}}();t.fn.flipster=function(s){var l="string"==typeof s?!0:!1;if(l){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=t(this).data("methods");return e[s]?e[s].apply(this,c):this})}var u={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},f=t.extend({},u,s),p=t(e),v=r("transform"),h={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},d=new RegExp("\\b("+h.itemCurrent+"|"+h.itemPast+"|"+h.itemFuture+")(.*?)(\\s|$)","g"),m=new RegExp("\\s\\s+","g");return this.each(function(){function e(t){var e="next"===t?f.buttonNext:f.buttonPrev;return"custom"!==f.buttons&&o?'<svg viewBox="0 0 13 20" xmlns="'+a+'" aria-labelledby="title"><title>'+e+'</title><polyline points="10,3 3,10 10,17"'+("next"===t?' transform="rotate(180 6.5,10)"':"")+"/></svg>":e}function r(n){return n=n||"next",t('<button class="'+h.button+" "+("next"===n?h.buttonNext:h.buttonPrev)+'" role="button" />').html(e(n)).on("click",function(t){b(n),t.preventDefault()})}function s(){f.buttons&&N.length>1&&(z.find("."+h.button).remove(),z.append(r("prev"),r("next")))}function l(){var e={};!f.nav||N.length<=1||(Y&&Y.remove(),Y=t('<ul class="'+h.nav+'" role="navigation" />'),F=t(""),N.each(function(n){var i=t(this),r=i.data("flip-category"),a=i.data("flip-title")||i.attr("title")||n,o=t('<a href="#" class="'+h.navLink+'">'+a+"</a>").data("index",n);if(F=F.add(o),r){if(!e[r]){var s=t('<li class="'+h.navItem+" "+h.navCategory+'">'),l=t('<a href="#" class="'+h.navLink+" "+h.navCategoryLink+'" data-flip-category="'+r+'">'+r+"</a>").data("category",r).data("index",n);e[r]=t('<ul class="'+h.navChild+'" />'),F=F.add(l),s.append(l,e[r]).appendTo(Y)}e[r].append(o)}else Y.append(o);o.wrap('<li class="'+h.navItem+'">')}),Y.on("click","a",function(e){var n=t(this).data("index");n>=0&&(b(n),e.preventDefault())}),"after"===f.nav?z.append(Y):z.prepend(Y),j=Y.find("."+h.navItem))}function c(){if(f.nav){var e=S.data("flip-category");j.removeClass(h.navCurrent),F.filter(function(){return t(this).data("index")===R||e&&t(this).data("category")===e}).parent().addClass(h.navCurrent)}}function u(){z.css("transition","none"),X.css("transition","none"),N.css("transition","none")}function g(){z.css("transition",""),X.css("transition",""),N.css("transition","")}function _(){var e,n=0;return N.each(function(){e=t(this).height(),e>n&&(n=e)}),n}function y(e){e&&u(),M=X.width(),X.height(_()),N.each(function(n){var i,r,a=t(this);a.attr("class",function(t,e){return e&&e.replace(d,"").replace(m," ")}),i=a.outerWidth(),0!==f.spacing&&a.css("margin-right",i*f.spacing+"px"),r=a.position().left,H[n]=-1*(r+i/2-M/2),n===N.length-1&&(x(),e&&setTimeout(g,1))})}function x(){var e,i,r,a=N.length;N.each(function(n){e=t(this),i=" ",n===R?(i+=h.itemCurrent,r=a+1):R>n?(i+=h.itemPast+" "+h.itemPast+"-"+(R-n),r=n):(i+=h.itemFuture+" "+h.itemFuture+"-"+(n-R),r=a-n),e.css("z-index",r).attr("class",function(t,e){return e&&e.replace(d,"").replace(m," ")+i})}),R>=0&&(M&&H[R]!==n||y(!0),v?X.css("transform","translateX("+H[R]+"px)"):X.css({left:H[R]+"px"})),c()}function b(t){var e=R;return N.length<=1?void 0:("prev"===t?R>0?R--:f.loop&&(R=N.length-1):"next"===t?R<N.length-1?R++:f.loop&&(R=0):"number"==typeof t?R=t:t!==n&&(R=N.index(t)),S=N.eq(R),R!==e&&f.onItemSwitch&&f.onItemSwitch.call(z,N[R],N[e]),x(),z)}function C(t){return f.autoplay=t||f.autoplay,clearInterval(A),A=setInterval(function(){var t=R;b("next"),t!==R||f.loop||clearInterval(A)},f.autoplay),z}function w(){return clearInterval(A),f.autoplay&&(A=-1),z}function k(){y(!0),z.hide().css("visibility","").addClass(h.active).fadeIn(f.fadeIn)}function I(){return X=z.find(f.itemContainer).addClass(h.container),N=X.find(f.itemSelector),N.length<=1?void 0:(N.addClass(h.item).each(function(){var e=t(this);e.children("."+h.itemContent).length||e.wrapInner('<div class="'+h.itemContent+'" />')}),f.click&&N.on("click.flipster touchend.flipster",function(e){O||(t(this).hasClass(h.itemCurrent)||e.preventDefault(),b(this))}),s(),l(),R>=0&&b(R),z)}function P(t){f.keyboard&&(t[0].tabIndex=0,t.on("keydown.flipster",i(function(t){var e=t.which;37===e?(b("prev"),t.preventDefault()):39===e&&(b("next"),t.preventDefault())},250,!0)))}function D(t){if(f.scrollwheel){var e,n,r=!1,a=0,o=0,s=0;t.on("mousewheel.flipster wheel.flipster",function(){r=!0}).on("mousewheel.flipster wheel.flipster",i(function(t){clearTimeout(o),o=setTimeout(function(){a=0,s=0},300),t=t.originalEvent,s+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(s)<25||(a++,e=s>0?"prev":"next",n!==e&&(a=0),n=e,(6>a||a%3===0)&&b(e),s=0)},50)),p.on("mousewheel.flipster wheel.flipster",function(t){r&&(t.preventDefault(),r=!1)})}}function E(t){if(f.touch){var e,n,r,a,o=!1,s=i(b,300);t.on({"touchstart.flipster":function(t){t=t.originalEvent,O=t.touches?t.touches[0].clientX:t.clientX,o=t.touches?t.touches[0].clientY:t.clientY},"touchmove.flipster":i(function(t){O!==!1&&(t=t.originalEvent,e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY,r=n-o,a=e-O,Math.abs(r)<100&&Math.abs(a)>=30&&(s(0>a?"next":"prev"),O=e,t.preventDefault()))},100),"touchend.flipster touchcancel.flipster ":function(){O=!1}})}}function T(){if(z.css("visibility","hidden"),I(),N.length<=1)return void z.css("visibility","");z.addClass([h.main,v?"flipster--transform":" flipster--no-transform",f.style?"flipster--"+f.style:"",f.click?"flipster--click":""].join(" ")),f.start&&(R="center"===f.start?Math.floor(N.length/2):f.start),b(R);var t=z.find("img");if(t.length){var e=0;t.on("load",function(){e++,e>=t.length&&k()}),setTimeout(k,750)}else k();p.on("resize.flipster",i(y,400)),f.autoplay&&C(),f.pauseOnHover&&X.on("mouseenter.flipster",w).on("mouseleave.flipster",function(){-1===A&&C()}),P(z),D(X),E(X)}var L,X,M,N,S,Y,j,F,z=t(this),H=[],R=0,A=!1,O=!1;L={jump:b,next:function(){return b("next")},prev:function(){return b("prev")},play:C,pause:w,index:I},z.data("methods",L),z.hasClass(h.active)||T()})}}(jQuery,window);